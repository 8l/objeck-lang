use ODBC;
use Structure;

bundle Default {
	class SqlTest {
		function : Main(args : String[]) ~ Nil {
			conn := Connection->New("test", "root", "");	
			if(conn <> Nil) {
				conn->Update("UPDATE test.student SET last_name='dog' WHERE id=2")->PrintLine();
				result := conn->Select("select * from test.student");
				if(result <> Nil) {
					i := 0;	
					while(result->Next()) {
						result->GetInt(1)->PrintLine();
						result->GetString(3)->PrintLine();
						i += 1;
					};
					i->PrintLine();	
					result->Close();
				};
				conn->Close();
			};
		}
	}
}
