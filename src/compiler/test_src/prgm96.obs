use IO;

bundle Default {
	class BasicBlocks {
		function : Main(args : System.String[]) ~ Nil {
			msg := "Hello";
			serial := Serializer->New();
#			serial->Add(101);
#			serial->Add(3.5);
			array := Byte->New[4];
			array[0] := 7;
			array[1] := 27;
			array[2] := 6;
			array[3] := 13;
			serial->Add(array);
			bytes := serial->Serialize();

			deserial := Deserializer->New(bytes);
			x := deserial->ReadByteArray();
			y := x[1]->As(Int);
			y->PrintLine();
#~
			v1 := deserial->ReadInt();
			v1->PrintLine();
			v2 := deserial->ReadFloat();
			v2->PrintLine();
~#
		}
	}
}
