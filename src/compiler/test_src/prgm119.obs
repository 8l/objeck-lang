use FastCgi;

bundle Default {
	class FastCgiModule {
		function : Main(args : String[]) ~ Nil {
		}

		function : Request(r : Request) ~ Nil {
			r->Print("<html>");
			r->Print("<form method=\"get\">");
			r->Print("First name: <input type=\"text\" name=\"fname\" /><br />");
			r->Print("Last name: <input type=\"text\" name=\"lname\" /><br />");
			r->Print("<input type=\"submit\" value=\"Submit\" />");
			r->Print("</form>"); 
			
			r->Print("<i>name="); 			
			name := r->GetParameter("lname");
			if(name <> Nil) {
				r->Print(name);
			};
			r->Print("</i><br/>"); 

			r->Print("<i>cookie value="); 			
			cookie := r->GetCookie("name3");
			if(cookie <> Nil) {
				r->Print(cookie);
			};

			cookie := r->GetCookie("name2");
			if(cookie <> Nil) {
				r->Print("; cookie value="); 			
				r->Print(cookie);
			};

			r->Print("</i>"); 

			r->Print("<html>");
		}
	}
}
