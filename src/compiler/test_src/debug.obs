class Test {
	function : Main(args : String[]) ~ Nil {
		#
		# TODO: add to HTTP class
		# 
		
		url := "http://10.0.1.5:52216/Service.svc?GetData";
#		url := "http://10.0.1.5/Service.svc?GetData";
#		url := "http://httpbin.org";

		url := url->SubString("http://"->Size(), url->Size() - "http://"->Size());
		address := "";
		location := "/";
		index := url->Find('/');
		port := "80";
		if(index > -1) {
			address := url->SubString(index);
			port_index := address->Find(':');
			if(port_index > -1) {
				port_index += 1;
				port := address->SubString(port_index, address->Size() - port_index);
				address := address->SubString(port_index - 1);
			}
			else {
				location->Append(url->SubString(index + 1, url->Size() - index - 1));
			};
		}
		else {
			address := url;
		};

		"address='{$address}' port='{$port}'"->PrintLine();
	}
}

