bundle Default {
  class Bar {
    function : AddTwo(x : Int) ~ String {
      return "hello";
    }
  }   
  
  class Hello {
    function : Main(args : String[]) ~ Nil {
      # push and pop functions refs (2 new instruction)
      f : (Int) ~ String := Foo(Int) ~ String;
      Foo(f);
      # f : Int := AddTwo(Int) ~ Bar;
      # j := 13;
    }
    
    function : Foo(f : (Int) ~ String) ~ Nil {
      
    }
#~   
    function : Merge(list : Int[], func : (Int) ~ Int) ~ Nil {
      dynamic method call (1 new instruction)
      v := func(list[0]);
    }
~#    
  }
}

# limits:
# functions refs cannot contain function definitions
# no support for function reference arrays
